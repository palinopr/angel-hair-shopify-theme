{%- style -%}
  .main-list-collections {
    padding: 60px 0;
  }

  .collections-container {
    max-width: var(--page-width);
    margin: 0 auto;
    padding: 0 24px;
  }

  .collections-header {
    text-align: center;
    margin-bottom: 48px;
  }

  .collections-header__title {
    font-family: var(--font-heading-family);
    font-size: 2.5rem;
    font-weight: 400;
    margin: 0;
  }

  .collections-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 32px;
  }

  .collection-card {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-lg);
    aspect-ratio: 4/3;
  }

  .collection-card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
  }

  .collection-card:hover .collection-card__image {
    transform: scale(1.05);
  }

  .collection-card__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 50%);
    display: flex;
    align-items: flex-end;
    padding: 24px;
  }

  .collection-card__content {
    color: white;
  }

  .collection-card__title {
    font-family: var(--font-heading-family);
    font-size: 1.5rem;
    font-weight: 400;
    margin: 0 0 8px;
  }

  .collection-card__count {
    font-size: 0.875rem;
    opacity: 0.8;
  }

  .collection-card__link {
    position: absolute;
    inset: 0;
    z-index: 1;
  }
{%- endstyle -%}

<section class="main-list-collections">
  <div class="collections-container">
    <header class="collections-header" data-animate>
      <h1 class="collections-header__title">{{ 'collections.general.title' | t | default: 'Collections' }}</h1>
    </header>

    <div class="collections-grid" data-animate-stagger>
      {%- for collection in collections -%}
        {%- unless collection.handle == 'all' -%}
          <article class="collection-card hover-lift">
            {%- if collection.image -%}
              <img 
                src="{{ collection.image | image_url: width: 800 }}"
                alt="{{ collection.image.alt | default: collection.title | escape }}"
                class="collection-card__image"
                loading="lazy"
                width="800"
                height="{{ 800 | divided_by: collection.image.aspect_ratio | round }}"
              >
            {%- elsif collection.products.first.featured_image -%}
              <img 
                src="{{ collection.products.first.featured_image | image_url: width: 800 }}"
                alt="{{ collection.title | escape }}"
                class="collection-card__image"
                loading="lazy"
              >
            {%- else -%}
              {{ 'collection-1' | placeholder_svg_tag: 'collection-card__image placeholder' }}
            {%- endif -%}

            <div class="collection-card__overlay">
              <div class="collection-card__content">
                <h2 class="collection-card__title">{{ collection.title }}</h2>
                <p class="collection-card__count">
                  {{ collection.products_count }} {{ 'collections.general.product_count' | t: count: collection.products_count }}
                </p>
              </div>
            </div>

            <a href="{{ collection.url }}" class="collection-card__link" aria-label="{{ collection.title }}"></a>
          </article>
        {%- endunless -%}
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Collections List",
  "settings": []
}
{% endschema %}

