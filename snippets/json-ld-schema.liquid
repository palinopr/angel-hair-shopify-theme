{% comment %}
  JSON-LD Structured Data for SEO
  Provides rich snippets for Google and other search engines
{% endcomment %}

{% comment %} Organization Schema {% endcomment %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": {{ shop.name | json }},
  "url": {{ shop.url | json }},
  {% if settings.logo %}
    "logo": {{ settings.logo | image_url: width: 600 | json }},
  {% endif %}
  "sameAs": [
    {% if settings.social_instagram != blank %}{{ settings.social_instagram | json }}{% endif %}{% if settings.social_tiktok != blank %},{{ settings.social_tiktok | json }}{% endif %}{% if settings.social_facebook != blank %},{{ settings.social_facebook | json }}{% endif %}
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "contactType": "customer service",
    "email": "angelhair2220@gmail.com"
    {% if settings.whatsapp_number != blank %}
    ,"telephone": "+{{ settings.whatsapp_number }}"
    {% endif %}
  }
}
</script>

{% comment %} WebSite Schema with Search Action {% endcomment %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": {{ shop.name | json }},
  "url": {{ shop.url | json }},
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "{{ shop.url }}/search?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
}
</script>

{% comment %} Product Schema - Only on product pages {% endcomment %}
{%- if template.name == 'product' -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": {{ product.title | json }},
  "description": {{ product.description | strip_html | truncate: 500 | json }},
  "url": {{ shop.url | append: product.url | json }},
  {% if product.featured_image %}
    "image": [
      {{ product.featured_image | image_url: width: 1200 | json }}
      {%- for image in product.images offset: 1 limit: 4 -%}
        ,{{ image | image_url: width: 1200 | json }}
      {%- endfor -%}
    ],
  {% endif %}
  "sku": {{ product.selected_or_first_available_variant.sku | default: product.id | json }},
  "brand": {
    "@type": "Brand",
    "name": {{ product.vendor | default: shop.name | json }}
  },
  "offers": {
    "@type": "Offer",
    "url": {{ shop.url | append: product.url | json }},
    "priceCurrency": {{ shop.currency | json }},
    "price": {{ product.price | money_without_currency | remove: ',' | json }},
    {% if product.compare_at_price > product.price %}
      "priceValidUntil": "{{ 'now' | date: '%Y' | plus: 1 }}-12-31",
    {% endif %}
    "availability": "{% if product.available %}https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}",
    "itemCondition": "https://schema.org/NewCondition",
    "seller": {
      "@type": "Organization",
      "name": {{ shop.name | json }}
    }
  }
  {% comment %} Add aggregate rating if you have reviews {% endcomment %}
}
</script>
{%- endif -%}

{% comment %} BreadcrumbList Schema {% endcomment %}
{%- if template.name == 'product' or template.name == 'collection' -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": {{ shop.url | json }}
    }
    {%- if template.name == 'collection' -%}
    ,{
      "@type": "ListItem",
      "position": 2,
      "name": {{ collection.title | json }},
      "item": {{ shop.url | append: collection.url | json }}
    }
    {%- endif -%}
    {%- if template.name == 'product' -%}
    {%- if product.collections.first -%}
    ,{
      "@type": "ListItem",
      "position": 2,
      "name": {{ product.collections.first.title | json }},
      "item": {{ shop.url | append: product.collections.first.url | json }}
    }
    ,{
      "@type": "ListItem",
      "position": 3,
      "name": {{ product.title | json }},
      "item": {{ shop.url | append: product.url | json }}
    }
    {%- else -%}
    ,{
      "@type": "ListItem",
      "position": 2,
      "name": {{ product.title | json }},
      "item": {{ shop.url | append: product.url | json }}
    }
    {%- endif -%}
    {%- endif -%}
  ]
}
</script>
{%- endif -%}

{% comment %} CollectionPage Schema {% endcomment %}
{%- if template.name == 'collection' -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": {{ collection.title | json }},
  "description": {{ collection.description | strip_html | truncate: 500 | default: collection.title | json }},
  "url": {{ shop.url | append: collection.url | json }}
  {% if collection.image %}
  ,"image": {{ collection.image | image_url: width: 1200 | json }}
  {% endif %}
}
</script>
{%- endif -%}

{% comment %} LocalBusiness Schema (optional - for physical stores) {% endcomment %}
{%- comment -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Store",
  "name": {{ shop.name | json }},
  "url": {{ shop.url | json }},
  "priceRange": "$$",
  "description": "Professional-grade hair care products with amino acid technology",
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "US"
  }
}
</script>
{%- endcomment -%}

{% comment %} FAQ Schema - For FAQ pages {% endcomment %}
{%- if template.suffix == 'faq' -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Are Angel Hair products safe for color-treated hair?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! All of our products are formulated to be safe for color-treated hair. Our sulfate-free formulas help preserve your color while nourishing your hair."
      }
    },
    {
      "@type": "Question",
      "name": "How often should I use the treatment products?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "For best results, we recommend using our treatment products 1-2 times per week. However, if your hair is severely damaged, you can use them more frequently."
      }
    },
    {
      "@type": "Question",
      "name": "What makes amino acid formulas special?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Amino acids are the building blocks of protein, and hair is primarily made of keratin protein. Our amino acid formulas help repair and strengthen hair from within, filling in gaps in the hair cuticle for smoother, healthier hair."
      }
    }
  ]
}
</script>
{%- endif -%}

